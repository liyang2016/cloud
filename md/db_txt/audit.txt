mysql> select count(*) from ins_audit;
+---------+
| count(*) |
+---------+
|  145367 |
+---------+
1 row in set

mysql> select * from ins_audit limit 10;
+------------+---------+-----------+---------------+----------------+------------+--------------------------------------------+-------------+--------------+------+-------------------+-------------------+----------+----------+----------------+
| ins_audit_id | audit_id | process_id | process_ins_id | pk_value       | group_id    | group_name                                 | revise_count | submit_op_id  | state | create_date        | done_date         | mark_flag | owe_fee | process_version |
+------------+---------+-----------+---------------+----------------+------------+--------------------------------------------+-------------+--------------+------+-------------------+-------------------+----------+----------+----------------+
|     100003 |    1002 |     10021 |      23412630 | 20170921000365 | 2100193044 | 中国移动上海公司集客部TD无线商话虚拟集团2 |           1 | 100000678920 |   99 | 2017-09-21 20:00:03 | 2017-09-22 07:48:05 | NULL     | NULL     | NULL           |
|     100010 |    1001 |     10021 |      23413085 | 20170920000772 | 2108071486 | 上海鼎固物业管理有限公司                   |           1 | 100000677327 |    2 | 2017-09-22 09:00:01 | 2017-11-01 15:05:34 | NULL     | NULL     | NULL           |
|     100011 |    1002 |     10021 |      23413093 | 20170915000074 | 2100184236 | 上海市崇明县城市网格化综合管理中心         |           0 | 100000677939 |   99 | 2017-09-22 09:00:02 | 2017-10-10 15:52:14 | NULL     | NULL     | NULL           |
|     100012 |    1002 |     10021 |      23413101 | 20170920000592 | 2100197567 | 崇明县新海镇人民政府                       |           0 | 100000677939 |   99 | 2017-09-22 09:00:02 | 2017-10-11 15:55:17 | NULL     | NULL     | NULL           |
|     100013 |    1001 |     10021 |      23413246 | 20170918000551 | 2101170754 | 璞蔚房地产经纪(上海)有限公司               |           0 |       726767 |   99 | 2017-09-22 09:10:01 | 2017-10-17 10:16:14 | NULL     | NULL     | NULL           |
|     100014 |    1001 |     10021 |      23413254 | 20170918000544 | 2101253395 | 上海君乔医药咨询有限公司                   |           0 |       726767 |   99 | 2017-09-22 09:10:01 | 2017-10-30 15:23:58 | NULL     | NULL     | NULL           |
|     100015 |    1002 |     10021 |      23413262 | 20170919000309 | 2101013051 | 崇明县旅游局                               |           0 | 100000677939 |   99 | 2017-09-22 09:10:02 | 2017-10-11 15:55:56 | NULL     | NULL     | NULL           |
|     100016 |    1001 |     10021 |      23413413 | 20170901000876 | NULL       | 上海市崇明县同艺建筑装潢部                 |           0 | 100000677939 |   99 | 2017-09-22 09:20:01 | 2017-10-11 16:09:43 | NULL     | NULL     | NULL           |
|     100017 |    1001 |     10021 |      23413421 | 20170907000592 | 2101251054 | 上海市崇明区城桥镇社区事务受理服务中心     |           0 | 100000678146 |   99 | 2017-09-22 09:20:01 | 2017-10-17 16:02:42 | NULL     | NULL     | NULL           |
|     100018 |    1002 |     10021 |      23413429 | 20170907000249 | 2100042865 | 上海松川精密电子有限公司                   |           0 |       739611 |   99 | 2017-09-22 09:20:02 | 2017-11-02 09:06:58 | NULL     | NULL     | NULL           |
+------------+---------+-----------+---------------+----------------+------------+--------------------------------------------+-------------+--------------+------+-------------------+-------------------+----------+----------+----------------+
10 rows in set

mysql> desc ins_audit;
+----------------+-------------+------+------+--------+-------+
| Field           | Type        | Null  | Key | Default | Extra |
+----------------+-------------+------+------+--------+-------+
| ins_audit_id     | bigint(20)    | NO  | PRI  | NULL   |       |
| audit_id        | bigint(20)    | YES |      | NULL   |       |
| process_id      | bigint(20)    | YES |      | NULL   |       |
| process_ins_id  | bigint(20)    | YES |      | NULL   |       |
| pk_value       | bigint(20)    | YES |      | NULL   |       |
| group_id        | bigint(20)    | YES |      | NULL   |       |
| group_name     | varchar(255) | YES |      | NULL   |       |
| revise_count    | int(4)       | YES |      | NULL   |       |
| submit_op_id    | bigint(20)    | YES |      | NULL   |       |
| state           | tinyint(2)     | YES |      | NULL   |       |
| create_date     | datetime     | YES |      | NULL   |       |
| done_date      | datetime     | YES |      | NULL   |       |
| mark_flag       | varchar(50)  | YES |      | NULL   |       |
| owe_fee       | decimal(10,2) | YES |      | NULL   |       |
| process_version | varchar(16)  | YES |      | NULL   |       |
+----------------+-------------+------+------+--------+-------+
15 rows in set

mysql> show create table ins_audit;
+----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table    | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ins_audit | CREATE TABLE `ins_audit` (
  `ins_audit_id` bigint(20) NOT NULL,
  `audit_id` bigint(20) DEFAULT NULL,
  `process_id` bigint(20) DEFAULT NULL,
  `process_ins_id` bigint(20) DEFAULT NULL,
  `pk_value` bigint(20) DEFAULT NULL,
  `group_id` bigint(20) DEFAULT NULL,
  `group_name` varchar(255) DEFAULT NULL,
  `revise_count` int(4) DEFAULT NULL,
  `submit_op_id` bigint(20) DEFAULT NULL,
  `state` tinyint(2) DEFAULT NULL,
  `create_date` datetime DEFAULT NULL,
  `done_date` datetime DEFAULT NULL,
  `mark_flag` varchar(50) DEFAULT NULL,
  `owe_fee` decimal(10,2) DEFAULT NULL,
  `process_version` varchar(16) DEFAULT NULL,
  PRIMARY KEY (`ins_audit_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 |
+----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set

mysql> explain select ins_audit_id,audit_id,process_ins_id from ins_audit where audit_id=1001 order by ins_audit_id limit 10;
+----+------------+----------+-------+--------------+----------+---------+------+-------+-------------+
| id | select_type | table     | type  | possible_keys | key      | key_len | ref  | rows | Extra       |
+----+------------+----------+-------+--------------+----------+---------+------+-------+-------------+
|  1 | SIMPLE     | ins_audit | index | NULL         | PRIMARY | 8       | NULL |    10 | Using where |
+----+------------+----------+-------+--------------+----------+---------+------+-------+-------------+
1 row in set

mysql> explain select ins_audit_id,audit_id,process_ins_id from ins_audit where audit_id=1001 order by ins_audit_id limit 10;
+----+------------+----------+-------+--------------+----------+---------+------+-------+-------------+
| id | select_type | table     | type  | possible_keys | key      | key_len | ref  | rows | Extra       |
+----+------------+----------+-------+--------------+----------+---------+------+-------+-------------+
|  1 | SIMPLE     | ins_audit | index | NULL         | PRIMARY | 8       | NULL |    10 | Using where |
+----+------------+----------+-------+--------------+----------+---------+------+-------+-------------+
1 row in set

mysql> explain select ins_audit_id,audit_id,process_ins_id from ins_audit where audit_id=1001 order by process_ins_id limit 10;
+----+------------+----------+------+--------------+------+---------+------+--------+------------------------+
| id | select_type | table     | type | possible_keys | key  | key_len | ref  | rows  | Extra                  |
+----+------------+----------+------+--------------+------+---------+------+--------+------------------------+
|  1 | SIMPLE     | ins_audit | ALL | NULL         | NULL | NULL    | NULL | 138970 | Using where; Using filesort |
+----+------------+----------+------+--------------+------+---------+------+--------+------------------------+
1 row in set

mysql> alter table ins_audit add index audit_process(audit_id,process_ins_id);
Query OK, 145367 rows affected
Records: 145367  Duplicates: 0  Warnings: 0

mysql> explain select ins_audit_id,audit_id,process_ins_id from ins_audit where audit_id=1001 order by process_ins_id limit 10;
+----+------------+----------+------+--------------+--------------+---------+-------+-------+-----------------------+
| id | select_type | table     | type | possible_keys | key          | key_len | ref   | rows | Extra                 |
+----+------------+----------+------+--------------+--------------+---------+-------+-------+-----------------------+
|  1 | SIMPLE     | ins_audit | ref  | audit_process | audit_process | 9       | const | 71236 | Using where; Using index |
+----+------------+----------+------+--------------+--------------+---------+-------+-------+-----------------------+
1 row in set

mysql> 
